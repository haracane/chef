<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- Put site-specific property overrides in this file. -->

<%-
  @hadoop_config ||= {}
  @hadoop_config["core-site.xml"] ||= {}
  @hadoop_config["core-site.xml"]["fs.default.name"] ||= "hdfs://#{node[:hostname]}:8020"
  @hadoop_config["core-site.xml"]["hadoop.tmp.dir"] ||= "/var/lib/hadoop-0.20/cache/${user.name}"
  @hadoop_config["core-site.xml"]["io.compression.codecs"] ||= "org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.BZip2Codec"
  @hadoop_config["core-site.xml"]["webinterface.private.actions"] ||= "true"
%>

<configuration>
  <%-@hadoop_config["core-site.xml"].each_pair do |key, val|%>
  <property>
    <name><%=key%></name>
    <value><%=val%></value>
  </property>
  <%-end%>
</configuration>
